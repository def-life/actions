name: Close Stale Issues and PRs

on:
    schedule:
        - cron: '0 2 * * *' # Runs every day at 2:00 AM UTC
    workflow_dispatch:

permissions:
    issues: write
    pull-requests: write

jobs:
    stale:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/stale@v9
              with:
                stale-issue-message: 'This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs.'
                stale-pr-message: 'This pull request has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs.'
                days-before-stale: 30
                days-before-close: 7
                close-issue-message: 'Closing this issue due to inactivity.'
                close-pr-message: 'Closing this pull request due to inactivity.'